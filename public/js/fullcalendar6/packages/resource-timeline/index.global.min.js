/*!
FullCalendar Resource Timeline Plugin v6.0.0-beta.2
Docs & License: https://fullcalendar.io/premium
(c) 2022 Adam Shaw
*/
FullCalendar.ResourceTimeline=function(e,t,r,n,o,l,s,i,a,d){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var u=c(n),h=c(o),p=c(l);function m({depth:e,hasChildren:t,isExpanded:r,onExpanderClick:n}){let o=[];for(let t=0;t<e;t+=1)o.push(s.createElement("span",{className:"fc-icon"}));let l=["fc-icon"];return t&&(r?l.push("fc-icon-minus-square"):l.push("fc-icon-plus-square")),o.push(s.createElement("span",{className:"fc-datagrid-expander"+(t?"":" fc-datagrid-expander-placeholder"),onClick:n},s.createElement("span",{className:l.join(" ")}))),s.createElement(s.Fragment,{},...o)}class f extends t.BaseComponent{constructor(){super(...arguments),this.refineRenderProps=t.memoizeObjArg(C),this.onExpanderClick=e=>{let{props:t}=this;t.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})}}render(){let{props:e,context:r}=this,{colSpec:n}=e,o=this.refineRenderProps({resource:e.resource,fieldValue:e.fieldValue,context:r});return s.createElement(t.ContentContainer,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":e.resource.id},renderProps:o,generatorName:"cellContent",generator:n.cellContent||g,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},t=>s.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},s.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},n.isMain&&s.createElement(m,{depth:e.depth,hasChildren:e.hasChildren,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),s.createElement(t,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))}}function g(e){return e.fieldValue||s.createElement(s.Fragment,null," ")}function C(e){return{resource:new l.ResourceApi(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}class R extends t.BaseComponent{render(){let{props:e,context:r}=this,{colSpec:n}=e,o={groupValue:e.fieldValue,view:r.viewApi};return s.createElement(t.ContentContainer,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:e.rowSpan},renderProps:o,generatorName:"cellContent",generator:n.cellContent||w,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},e=>s.createElement("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},s.createElement(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]})))}}function w(e){return e.groupValue||s.createElement(s.Fragment,null," ")}class E extends t.BaseComponent{render(){let{props:e}=this,{resource:t,rowSpans:r,depth:n}=e,o=a.buildResourceFields(t);return s.createElement("tr",{role:"row"},e.colSpecs.map((l,i)=>{let d=r[i];if(0===d)return null;null==d&&(d=1);let c=l.field?o[l.field]:t.title||a.getPublicId(t.id);return d>1?s.createElement(R,{key:i,colSpec:l,fieldValue:c,rowSpan:d}):s.createElement(f,{key:i,colSpec:l,resource:t,fieldValue:c,depth:n,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})}))}}E.addPropsEquality({rowSpans:t.isArraysEqual});class S extends t.BaseComponent{constructor(){super(...arguments),this.innerInnerRef=s.createRef(),this.onExpanderClick=()=>{let{props:e}=this;this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})}}render(){let{props:e,context:r}=this,n={groupValue:e.group.value,view:r.viewApi},o=e.group.spec;return s.createElement("tr",{role:"row"},s.createElement(t.ContentContainer,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",r.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.spreadsheetColCnt},renderProps:n,generatorName:"labelContent",generator:o.labelContent||y,classNameGenerator:o.labelClassNames,didMount:o.labelDidMount,willUnmount:o.labelWillUnmount},t=>s.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},s.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},s.createElement(m,{depth:0,hasChildren:!0,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),s.createElement(t,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}}function y(e){return e.groupValue||s.createElement(s.Fragment,null," ")}S.addPropsEquality({group:a.isGroupsEqual});class b extends t.BaseComponent{constructor(){super(...arguments),this.resizerElRefs=new t.RefMap(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:e,superHeaderRendering:r,rowInnerHeights:n}=this.props,o={view:this.context.viewApi},l=[];if(n=n.slice(),r){let i=n.shift();l.push(s.createElement("tr",{key:"row-super",role:"row"},s.createElement(t.ContentContainer,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.length},renderProps:o,generatorName:"headerContent",generator:r.headerContent,classNameGenerator:r.headerClassNames,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},e=>s.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:i}},s.createElement(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]})))))}let i=n.shift();return l.push(s.createElement("tr",{key:"row",role:"row"},e.map((r,n)=>{let l=n===e.length-1;return s.createElement(t.ContentContainer,{key:n,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:o,generatorName:"headerContent",generator:r.headerContent,classNameGenerator:r.headerClassNames,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},e=>s.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:i}},s.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},r.isMain&&s.createElement("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},s.createElement("span",{className:"fc-icon"})),s.createElement(e,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!l&&s.createElement("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(n)})))}))),s.createElement(s.Fragment,null,l)}_handleColResizerEl(e,t){let{colDraggings:r}=this;if(e){let n=this.initColResizing(e,parseInt(t,10));n&&(r[t]=n)}else{let e=r[t];e&&(e.destroy(),delete r[t])}}initColResizing(e,r){let{pluginHooks:n,isRtl:o}=this.context,{onColWidthChange:l}=this.props,s=n.elementDraggingImpl;if(s){let n,i,a=new s(e);return a.emitter.on("dragstart",()=>{let o=t.findElements(t.elementClosest(e,"tr"),"th");i=o.map(e=>e.getBoundingClientRect().width),n=i[r]}),a.emitter.on("dragmove",e=>{i[r]=Math.max(n+e.deltaX*(o?-1:1),20),l&&l(i.slice())}),a.setAutoScrollEnabled(!1),a}return null}}class x extends t.BaseComponent{constructor(){super(...arguments),this.refineRenderProps=t.memoizeObjArg(a.refineRenderProps),this.handleHeightChange=(e,r)=>{this.props.onHeightChange&&this.props.onHeightChange(t.elementClosest(e,"tr"),r)}}render(){let{props:e,context:r}=this,{options:n}=r,o=this.refineRenderProps({resource:e.resource,context:r});return s.createElement("tr",{ref:e.elRef},s.createElement(t.ContentContainer,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":e.resource.id},renderProps:o,generatorName:"resourceLaneContent",generator:n.resourceLaneContent,classNameGenerator:n.resourceLaneClassNames,didMount:n.resourceLaneDidMount,willUnmount:n.resourceLaneWillUnmount},t=>s.createElement("div",{className:"fc-timeline-lane-frame",style:{height:e.innerHeight}},s.createElement(t,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),s.createElement(i.TimelineLane,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:e.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:e.resource.id}))))}}class H extends t.BaseComponent{render(){let{props:e,context:r}=this,{renderHooks:n}=e,o={groupValue:e.groupValue,view:r.viewApi};return s.createElement("tr",{ref:e.elRef},s.createElement(t.ContentContainer,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-lane","fc-resource-group",r.theme.getClass("tableCellShaded")],renderProps:o,generatorName:"laneContent",generator:n.laneContent,classNameGenerator:n.laneClassNames,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},t=>s.createElement(t,{elTag:"div",elStyle:{height:e.innerHeight}})))}}class N extends t.BaseComponent{render(){let{props:e,context:t}=this,{rowElRefs:r,innerHeights:n}=e;return s.createElement("tbody",null,e.rowNodes.map((o,l)=>{if(o.group)return s.createElement(H,{key:o.id,elRef:r.createRef(o.id),groupValue:o.group.value,renderHooks:o.group.spec,innerHeight:n[l]||""});if(o.resource){let i=o.resource;return s.createElement(x,Object.assign({key:o.id,elRef:r.createRef(o.id)},e.splitProps[i.id],{resource:i,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:t.options.nextDayThreshold,businessHours:i.businessHours||e.fallbackBusinessHours,innerHeight:n[l]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}return null}))}}class v extends t.BaseComponent{constructor(){super(...arguments),this.rootElRef=s.createRef(),this.rowElRefs=new t.RefMap}render(){let{props:e,context:t}=this;return s.createElement("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},s.createElement(N,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){let{props:e}=this;var r;e.onRowCoords&&null!==e.clientWidth&&this.props.onRowCoords(new t.PositionCache(this.rootElRef.current,(r=this.rowElRefs.currentMap,e.rowNodes.map(e=>r[e.id])),!1,!0))}}class D extends t.DateComponent{constructor(){super(...arguments),this.computeHasResourceBusinessHours=t.memoize(P),this.resourceSplitter=new a.ResourceSplitter,this.bgSlicer=new i.TimelineLaneSlicer,this.slatsRef=s.createRef(),this.state={slatCoords:null},this.handleEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)},this.handleRowCoords=e=>{this.rowCoords=e,this.props.onRowCoords&&this.props.onRowCoords(e)}}render(){let{props:e,state:r,context:n}=this,{dateProfile:o,tDateProfile:l}=e,a=t.greatestDurationDenominator(l.slotDuration).unit,d=this.computeHasResourceBusinessHours(e.rowNodes),c=this.resourceSplitter.splitProps(e),u=c[""],h=this.bgSlicer.sliceProps(u,o,l.isTimeScale?null:e.nextDayThreshold,n,o,n.dateProfileGenerator,l,n.dateEnv),p=r.slatCoords&&r.slatCoords.dateProfile===e.dateProfile?r.slatCoords:null;return s.createElement("div",{ref:this.handleEl,className:["fc-timeline-body",e.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:e.tableMinWidth}},s.createElement(t.NowTimer,{unit:a},(r,a)=>s.createElement(s.Fragment,null,s.createElement(i.TimelineSlats,{ref:this.slatsRef,dateProfile:o,tDateProfile:l,nowDate:r,todayRange:a,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:e.onScrollLeftRequest}),s.createElement(i.TimelineLaneBg,{businessHourSegs:d?null:h.businessHourSegs,bgEventSegs:h.bgEventSegs,timelineCoords:p,eventResizeSegs:h.eventResize?h.eventResize.segs:[],dateSelectionSegs:h.dateSelectionSegs,nowDate:r,todayRange:a}),s.createElement(v,{rowNodes:e.rowNodes,dateProfile:o,tDateProfile:e.tDateProfile,nowDate:r,todayRange:a,splitProps:c,fallbackBusinessHours:d?e.businessHours:null,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,innerHeights:e.rowInnerHeights,slatCoords:p,onRowCoords:this.handleRowCoords,onRowHeightChange:e.onRowHeightChange}),n.options.nowIndicator&&p&&p.isDateInRange(r)&&s.createElement("div",{className:"fc-timeline-now-indicator-container"},s.createElement(t.NowIndicatorContainer,{elClasses:["fc-timeline-now-indicator-line"],elStyle:i.coordToCss(p.dateToCoord(r),n.isRtl),isAxis:!1,date:r})))))}queryHit(e,t){let r=this.rowCoords,n=r.topToIndex(t);if(null!=n){let t=this.props.rowNodes[n].resource;if(t){let o=this.slatsRef.current.positionToHit(e);if(o)return{dateProfile:this.props.dateProfile,dateSpan:{range:o.dateSpan.range,allDay:o.dateSpan.allDay,resourceId:t.id},rect:{left:o.left,right:o.right,top:r.tops[n],bottom:r.bottoms[n]},dayEl:o.dayEl,layer:0}}}return null}}function P(e){for(let t of e){let e=t.resource;if(e&&e.businessHours)return!0}return!1}class W extends t.BaseComponent{constructor(){super(...arguments),this.scrollGridRef=s.createRef(),this.timeBodyScrollerElRef=s.createRef(),this.spreadsheetHeaderChunkElRef=s.createRef(),this.rootElRef=s.createRef(),this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout(()=>{this.scrollGridRef.current.handleSizing(!1)},t.config.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){let{props:e,state:r,context:n}=this,{options:o}=n,l=!e.forPrint&&t.getStickyHeaderDates(o),i=!e.forPrint&&t.getStickyFooterScrollbar(o),a=[{type:"header",key:"header",syncRowHeights:!0,isSticky:l,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:s.createElement("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(o.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:s.createElement("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}];i&&a.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:t.renderScrollShim},{key:"divider",outerContent:s.createElement("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:t.renderScrollShim}]});let c=null!=r.resourceAreaWidthOverride?r.resourceAreaWidthOverride:o.resourceAreaWidth;return s.createElement(d.ScrollGrid,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,collapsibleWidth:!1,colGroups:[{cols:e.spreadsheetCols,width:c},{cols:[]},{cols:e.timeCols}],sections:a})}forceTimeScroll(e){this.scrollGridRef.current.forceScrollLeft(2,e)}forceResourceScroll(e){this.scrollGridRef.current.forceScrollTop(1,e)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:e,pluginHooks:t}=this.context,r=t.elementDraggingImpl,n=this.spreadsheetHeaderChunkElRef.current;if(r){let t,o,l=this.rootElRef.current,s=this.spreadsheetResizerDragging=new r(l,".fc-resource-timeline-divider");s.emitter.on("dragstart",()=>{t=n.getBoundingClientRect().width,o=l.getBoundingClientRect().width}),s.emitter.on("dragmove",r=>{let n=t+r.deltaX*(e?-1:1);n=Math.max(n,30),n=Math.min(n,o-30),this.setState({resourceAreaWidthOverride:n},this.ensureScrollGridResize)}),s.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}class k extends t.BaseComponent{constructor(e,r){super(e,r),this.processColOptions=t.memoize(A),this.buildTimelineDateProfile=t.memoize(i.buildTimelineDateProfile),this.hasNesting=t.memoize(z),this.buildRowNodes=t.memoize(a.buildRowNodes),this.layoutRef=s.createRef(),this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=t.memoize(M),this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleRowCoords=e=>{this.rowCoords=e,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})},this.handleScrollLeftRequest=e=>{this.layoutRef.current.forceTimeScroll(e)},this.handleScrollRequest=e=>{let{rowCoords:t}=this,r=this.layoutRef.current,n=e.rowId||e.resourceId;if(t){if(n){let o=this.buildRowIndex(this.renderedRowNodes)[n];if(null!=o){let n=null!=e.fromBottom?t.bottoms[o]-e.fromBottom:t.tops[o];r.forceResourceScroll(n)}}return!0}return null},this.handleColWidthChange=e=>{this.setState({spreadsheetColWidths:e})},this.state={resourceAreaWidth:r.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:e,state:r,context:n}=this,{options:o,viewSpec:l}=n,{superHeaderRendering:a,groupSpecs:d,orderSpecs:c,isVGrouping:u,colSpecs:h}=this.processColOptions(n.options),p=this.buildTimelineDateProfile(e.dateProfile,n.dateEnv,o,n.dateProfileGenerator),m=this.rowNodes=this.buildRowNodes(e.resourceStore,d,c,u,e.resourceEntityExpansions,o.resourcesInitiallyExpanded),{slotMinWidth:f}=o,g=i.buildSlatCols(p,f||this.computeFallbackSlotMinWidth(p));return s.createElement(t.ViewContainer,{elClasses:["fc-resource-timeline",!this.hasNesting(m)&&"fc-resource-timeline-flat","fc-timeline",!1===o.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:l},s.createElement(W,{ref:this.layoutRef,forPrint:e.forPrint,isHeightAuto:e.isHeightAuto,spreadsheetCols:T(h,r.spreadsheetColWidths,""),spreadsheetHeaderRows:e=>s.createElement(b,{superHeaderRendering:a,colSpecs:h,onColWidthChange:this.handleColWidthChange,rowInnerHeights:e.rowSyncHeights}),spreadsheetBodyRows:e=>s.createElement(s.Fragment,null,this.renderSpreadsheetRows(m,h,e.rowSyncHeights)),timeCols:g,timeHeaderContent:t=>s.createElement(i.TimelineHeader,{clientWidth:t.clientWidth,clientHeight:t.clientHeight,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,dateProfile:e.dateProfile,tDateProfile:p,slatCoords:r.slatCoords,rowInnerHeights:t.rowSyncHeights,onMaxCushionWidth:f?null:this.handleMaxCushionWidth}),timeBodyContent:t=>s.createElement(D,{dateProfile:e.dateProfile,clientWidth:t.clientWidth,clientHeight:t.clientHeight,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,expandRows:t.expandRows,tDateProfile:p,rowNodes:m,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,resourceStore:e.resourceStore,nextDayThreshold:n.options.nextDayThreshold,rowInnerHeights:t.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:t.reportRowHeightChange})}))}renderSpreadsheetRows(e,t,r){return e.map((e,n)=>e.group?s.createElement(S,{key:e.id,id:e.id,spreadsheetColCnt:t.length,isExpanded:e.isExpanded,group:e.group,innerHeight:r[n]||""}):e.resource?s.createElement(E,{key:e.id,colSpecs:t,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:r[n]||""}):null)}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(e,t,r){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),r.resourceScroll&&this.handleScrollRequest(r.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}queryResourceScroll(){let{rowCoords:e,renderedRowNodes:t}=this;if(e){let r=this.layoutRef.current,n=e.bottoms,o=r.getResourceScroll(),l={};for(let e=0;e<n.length;e+=1){let r=t[e],s=n[e]-o;if(s>0){l.rowId=r.id,l.fromBottom=s;break}}return l}return null}}function M(e){let t={};for(let r=0;r<e.length;r+=1)t[e[r].id]=r;return t}function T(e,t,r=""){return e.map((e,n)=>({className:e.isMain?"fc-main-col":"",width:t[n]||e.width||r}))}function z(e){for(let t of e){if(t.group)return!0;if(t.resource&&t.hasChildren)return!0}return!1}function A(e){let t=e.resourceAreaColumns||[],r=null;t.length?e.resourceAreaHeaderContent&&(r={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent||"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount});let n=[],o=[],l=[],s=!1;for(let r of t)r.group?o.push(Object.assign(Object.assign({},r),{cellClassNames:r.cellClassNames||e.resourceGroupLabelClassNames,cellContent:r.cellContent||e.resourceGroupLabelContent,cellDidMount:r.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:r.cellWillUnmount||e.resourceGroupLaneWillUnmount})):n.push(r);let i=n[0];if(i.isMain=!0,i.cellClassNames=i.cellClassNames||e.resourceLabelClassNames,i.cellContent=i.cellContent||e.resourceLabelContent,i.cellDidMount=i.cellDidMount||e.resourceLabelDidMount,i.cellWillUnmount=i.cellWillUnmount||e.resourceLabelWillUnmount,o.length)l=o,s=!0;else{let t=e.resourceGroupField;t&&l.push({field:t,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount})}let d=e.resourceOrder||a.DEFAULT_RESOURCE_ORDER,c=[];for(let e of d){let t=!1;for(let r of l)if(r.field===e.field){r.order=e.order,t=!0;break}t||c.push(e)}return{superHeaderRendering:r,isVGrouping:s,groupSpecs:l,colSpecs:o.concat(n),orderSpecs:c}}k.addStateEquality({spreadsheetColWidths:t.isArraysEqual});t.injectStyles('\n\n  .fc .fc-resource-timeline-divider {\n    width: 3px; /* important to have width to shrink this cell. no cross-browser problems */\n    cursor: col-resize;\n  }\n\n.fc .fc-resource-group {\n    /* make it look less like a <th> */\n    font-weight: inherit;\n    text-align: inherit;\n  }\n\n.fc {\n\n\n  /* will match horizontal groups in the datagrid AND group lanes in the timeline area */\n\n}\n\n.fc .fc-resource-timeline .fc-resource-group:not([rowspan]) {\n      background: var(--fc-neutral-bg-color);\n    }\n\n.fc .fc-timeline-lane-frame {\n    position: relative; /* contains the fc-timeline-bg container, which liquidly expands */\n    /* the height is explicitly set by row-height-sync */\n  }\n\n.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events { /* has height set on it */\n    box-sizing: content-box; /* padding no longer part of height */\n    padding-bottom: 10px; /* give extra spacing underneath for selecting */\n  }\n\n/* hack to make bg expand to lane\'s full height in resource-timeline with expandRows (#6134) */\n.fc-timeline-body-expandrows td.fc-timeline-lane {\n    position: relative;\n  }\n.fc-timeline-body-expandrows .fc-timeline-lane-frame {\n    position: static;\n  }\n/* the "frame" */\n.fc-datagrid-cell-frame-liquid {\n  height: 100%; /* needs liquid hack */\n}\n.fc-liquid-hack .fc-datagrid-cell-frame-liquid {\n  height: auto;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  }\n.fc {\n\n  /* the "frame" in a HEADER */\n  /* needs to position the column resizer */\n  /* needs to vertically center content */\n\n}\n.fc .fc-datagrid-header .fc-datagrid-cell-frame {\n      position: relative; /* for resizer */\n      display: flex;\n      justify-content: flex-start; /* horizontal align (natural left/right) */\n      align-items: center; /* vertical align */\n    }\n.fc {\n\n  /* the column resizer (only in HEADER) */\n\n}\n.fc .fc-datagrid-cell-resizer {\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    bottom: 0;\n    width: 5px;\n    cursor: col-resize;\n  }\n.fc {\n\n  /* the cushion */\n\n}\n.fc .fc-datagrid-cell-cushion {\n    padding: 8px;\n    white-space: nowrap;\n    overflow: hidden; /* problem for col resizer :( */\n  }\n.fc {\n\n  /* expander icons */\n\n}\n.fc .fc-datagrid-expander {\n    cursor: pointer;\n    opacity: 0.65\n\n  }\n.fc .fc-datagrid-expander .fc-icon { /* the expander and spacers before the expander */\n      display: inline-block;\n      width: 1em; /* ensure constant width, esp for empty icons */\n    }\n.fc .fc-datagrid-expander-placeholder {\n    cursor: auto;\n  }\n.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder {\n      display: none;\n    }\n.fc-direction-ltr .fc-datagrid-cell-resizer { right: -3px }\n.fc-direction-rtl .fc-datagrid-cell-resizer { left: -3px }\n.fc-direction-ltr .fc-datagrid-expander { margin-right: 3px }\n.fc-direction-rtl .fc-datagrid-expander { margin-left: 3px }\n');var G=r.createPlugin({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2022-11-22",deps:[u.default,p.default,h.default],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:k,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}}),U={__proto__:null,ResourceTimelineView:k,ResourceTimelineLane:x,SpreadsheetRow:E};return t.globalPlugins.push(G),e.Internal=U,e.default=G,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar.Internal,FullCalendar,FullCalendar.PremiumCommon,FullCalendar.Timeline,FullCalendar.Resource,FullCalendar.Preact,FullCalendar.Timeline.Internal,FullCalendar.Resource.Internal,FullCalendar.ScrollGrid.Internal);